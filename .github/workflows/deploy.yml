name: SSH Deploy to HTTP Server

on:
  push:
    branches:
      - main

jobs:
  deploy-http:
    runs-on: ubuntu-latest

    steps:
      - name: SSH into EC2 instance
        run: |
          echo "${{ secrets.TALHA_KEY }}" > ~/ssh_key
          chmod 600 ~/ssh_key
          ssh -i ~/ssh_key -o StrictHostKeyChecking=no ubuntu@3.27.171.210 "echo âœ… Connected as ubuntu"

      - name: SSH Debug EC2
        run: |
             pwd && whoami && ls -la /home/ubuntu"

