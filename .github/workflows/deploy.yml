name: SSH Deploy to HTTP Server

on:
  push:
    branches:
      - main

jobs:
  deploy-http:
    runs-on: ubuntu-latest

    steps:
     - name: SSH Deploy HTTP project
       run: |
         echo "${{ secrets.TALHA_KEY }}" > ~/ssh_key
         chmod 600 ~/ssh_key
         ssh -i ~/ssh_key -o StrictHostKeyChecking=no ubuntu@3.27.171.210 "cd /home/ubuntu/CICD/http && npm install && pm2 restart --name http-server

                  


